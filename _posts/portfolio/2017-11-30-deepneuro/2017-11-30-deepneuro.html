---
layout: default
header-title: portfolio
title:  "DeepNeuro"
icon: "/resources/portfolio/deepneuro_small.png"
date:   2017-11-30
category: portfolio
blurb: "An open-source utility for segmenting glioblastoma in MRI. Currently in use in glioblastoma clinical trials at Mass General Hospital, and is being tested at UCSF, Duke, and the Tata Memorial Hospital in India."
---

<div class="contentblock">
      <div class="contentdate">{{ page.date | date: "%b %-d, %Y" }}</div>
      <div class="contenttext">

            <a href={{page.permalink}}><div class="contenthead">{{ page.title }}</div></a>

    DeepNeuro is a software package built for using deep learning models to solve problems in neuroradiology. Currently, its one use case is multi-tissue segmentation of glioblastoma based off of contrast-enhanced MR scans. DeepNeuro will be the platform for all software applications developed by the Quantiative Tumor Imaging Lab at the Martinos Center. See it on Github <a href='https://github.com/QTIM-Lab/DeepNeuro'>here</a>. If you want to be able to segment tumors today, check out its predecessor with a less marketable name, <a href='https://github.com/QTIM-Lab/qtim_gbmSegmenter'>qtim_gbmSegmenter</a>. I am the sole creator of both projects.<br />

      </div>
  </div>

<div class="portfolioblock">

<div class="portfolioimage">
<img src="{{ site.baseurl }}/resources/portfolio/DeepNeuro.gif" alt=""{{ site.baseurl }}/><br />
<br />
<em>A 3D Convolutional Neural network iteratively learns to annotate a tumor. (gif by me, from DeepNeuro model)</em>
</div>

</div>

<div class="contentblock">
  <div class="contenttext">

    <br />
    The glioblastoma segmentation module in DeepNeuro uses a 3D U-Net model built in Keras with a Tensorflow backend. Many segmenters based on deep learning have struggled with false positives -- healthy tissue being marked as tumor. Our model gets around this by constraining predictions of "enhancing tumor", usually a signal of aggressive tumor growth, to those areas already identified as tumor edema, usually a wider area that in glioblastoma almost always surrounds the enhancing tumor. This has added a consistency to segmentations that is necessary for clinical usage, and has reduced the amount of time spent on quality control by our clinician significantly. We've also built a pre-processing pipeline that reduces differences between scans from different institutions, thus increasing the reproduciblity of our results. <br />
    <br />
    A frequent problem in neuroimaging is that many of the most useful, publication-supported data analysis methods are split between a thousand different packages, each with different and highly-specific installation requirements. This prevents the easy distribution of software packages that integrate these softwares together. We get past this by deploying DeepNeuro and qtim_gbmSegmenter in a nvidia-enabled Docker container. Docker containers are similar to virtual machines, and are effectively effecient ways to run single-application VMs from an internal saved state. NVIDIA has extended the Docker model to add support for their GPUs -- essential for quick inference time in deep learning models.<br />
    <br />
    Currently, qtim_gbmSegmenter is in use in six glioblastoma clinical trials at Massachusetts General Hospital, and is being tested at UCSF, Duke, and Tata Memorial Hospital in India. You can see a description of its methods for glioblastoma segmentation here: <a href="https://arxiv.org/pdf/1709.02967.pdf">link</a>.
    <br />
    <br />

</div>
</div>

<div class="portfolioblock">

<div class="portfolioimage">
<img src="{{ site.baseurl }}/resources/portfolio/DeepNeuro_2D.gif" alt=""{{ site.baseurl }}/><br />
<br />
<em>Similar gif as above, locating peritumoral edema from a 2D perspective. (gif by me)</em>
</div>

</div>

<div class="portfolioblock">

<div class="portfolioimage">
<img src="{{ site.baseurl }}/resources/portfolio/Segmentation_Example.png" alt=""{{ site.baseurl }}/><br />
<br />
<em>Results of DeepNeuro on a sample glioblastoma case. Enhancing tumor is labeled blue, peritumoral edema is labeled yellow, and necrotic tissue is labeled green.</em>
</div>

</div>